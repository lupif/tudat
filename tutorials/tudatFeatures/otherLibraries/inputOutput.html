

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.1. Input/Output &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="7. Other Libraries" href="index.html"/>
        <link rel="next" title="7.2. External Libraries: SPICE" href="spice.html"/>
        <link rel="prev" title="7. Other Libraries" href="index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../prerequiredKnowledge/index.html">Getting Started with Tudat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Walkthroughs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">1. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">2. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">3. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">4. Acceleration Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../propagationSetup/index.html">5. Simulator Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../estimationSetup/index.html">6. Estimation Set-Up</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">7. Other Libraries</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">7.1. Input/Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="spice.html">7.2. External Libraries: SPICE</a></li>
<li class="toctree-l4"><a class="reference internal" href="jsoncpp.html">7.3. External Libraries: JSONCPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="pagmo2.html">7.4. External Libraries: PaGMO 2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimizationTools/index.html">8. Optimization tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matlabInterface/index.html">MATLAB Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
          <li><a href="index.html">7. Other Libraries</a> &raquo;</li>
        
      <li>7.1. Input/Output</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/otherLibraries/inputOutput.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="input-output">
<span id="tudatfeaturesinputoutput"></span><h1>7.1. Input/Output<a class="headerlink" href="#input-output" title="Permalink to this headline">¶</a></h1>
<p>Handling input and output can be an important part of an application, as Tudat is built primarily for numerical orbit propagation/mission analysis, and not for visualization, which most users choose to do in e.g. Matlab. This page provides an overview of the most important Tudat methods for handling input and output, their set-up and how they can be used in an application.</p>
<div class="section" id="available-methods">
<h2>7.1.1. Available methods<a class="headerlink" href="#available-methods" title="Permalink to this headline">¶</a></h2>
<p>All functions and classes that handle input/output can be found in the <code class="docutils literal"><span class="pre">InputOutput</span></code> directory in the Tudat libraries. These functions and classes provide a variety of handlers and can, for example, skip lines, eliminate comments from a file, or store the propagation history to a particular file. In most cases, however, these specific file readers will not need to be called directly by the user, but are instead used when retrieving a default spherical harmonic gravity field or an aerodynamic database.</p>
<p>The input/output elements from Tudat that will be discussed here, can be subdivided into three categories:</p>
<ul class="simple">
<li>Path-functions.</li>
<li>File-readers.</li>
<li>File-writers.</li>
</ul>
<div class="section" id="path-functions">
<h3>7.1.1.1. Path-functions<a class="headerlink" href="#path-functions" title="Permalink to this headline">¶</a></h3>
<p>These are functions that return the root-path of the library (or a particular folder). They can be used to define a path relative to the root-path of Tudat when using a file-reader/writer. The following path functions are available:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">getTudatRootPath()</span></code>&nbsp;(Tudat)</dt>
<dd>This function returns the root-path corresponding with the root-directory of the Tudat library as a string with trailing slash included.</dd>
<dt><code class="docutils literal"><span class="pre">getSpiceKernelPath()</span></code>&nbsp;(Tudat)</dt>
<dd><p class="first">This function returns the path where the Spice Kernels are located as a string with trailing slash included. This is very useful when writing code that will work cross-platform. For instance, if you have a file inputData.txt that is located at:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">Software</span><span class="o">/</span><span class="n">tudatBundle</span><span class="o">/</span><span class="n">tudat</span><span class="o">/</span><span class="n">Tudat</span><span class="o">/</span><span class="n">Astrodynamics</span><span class="o">/</span>
</pre></div>
</div>
<p>you will want to avoid writing this full path in your code, as it will not run on any other system where Tudat is installed in a different directory. Instead, what you can do:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">filePath</span> <span class="o">=</span> <span class="n">input_output</span><span class="o">::</span><span class="n">getTudatRootPath</span><span class="p">(</span> <span class="p">)</span> <span class="o">+</span> <span class="s">&quot;Astrodynamics/&quot;</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">fileName</span> <span class="o">=</span> <span class="s">&quot;inputData.txt&quot;</span>
</pre></div>
</div>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The full path/name of the input data file is now simply filePath+fileName, which will correctly identify the file location on any system.</p>
</div>
</dd>
</dl>
</div>
<div class="section" id="file-readers">
<h3>7.1.1.2. File-readers<a class="headerlink" href="#file-readers" title="Permalink to this headline">¶</a></h3>
<p>If neeeded, you can use this functionality as a starting point to create your own file-reader for your specific file type. If you run into issues when doing so, please contact the Tudat support team. However, there is a dedicated file-reader available in the Tudat library:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">readMatrixFromFile</span></code>&nbsp;(Tudat)</dt>
<dd>This function can be used to read a simple text file with separated numbers. The documentation includes the options for a separator and the character used to skip a line (e.g. a comment-line). Note that the new-line character (n) is reserved to split the lines of the matrix.</dd>
</dl>
</div>
<div class="section" id="file-writers">
<h3>7.1.1.3. File-writers<a class="headerlink" href="#file-writers" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">InputOutput</span></code> directory in the Tudat library also contains functionality to write data (e.g. the propagation history of a satellite) to a file. The following function is available:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">writeDataMapToTextFile</span></code>&nbsp;(Tudat)</dt>
<dd><p class="first">This function writes data stored in a&nbsp;map&nbsp;to a text file. A number of overloads exists for this function based on the input given to the function. Furthermore, the data-map can store different types of data (e.g. doubles and Eigen vectors, which are typical types for the propagation history).</p>
<p class="last">The simplest input consists of the data-map and the file-name, the function writes data stored in the map to text file, using default KeyType-precision and ValueType-precision (digits10 from “limits” standard library), output directory (Tudat root-path), and delimiter (space).</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="examples">
<h2>7.1.2. Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-map-double-double-to-text-file">
<h3>7.1.2.1. Data-map (double,double) to text file<a class="headerlink" href="#data-map-double-double-to-text-file" title="Permalink to this headline">¶</a></h3>
<p>A data map is a template class that is defined by its key-type and value-type:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="n">key</span><span class="o">-</span><span class="n">type</span><span class="p">,</span> <span class="n">value</span><span class="o">-</span><span class="n">type</span> <span class="o">&gt;</span>
</pre></div>
</div>
<p>Using this, a data map, where the type of the key is a <code class="docutils literal"><span class="pre">double</span></code>, and the type of the value is also a <code class="docutils literal"><span class="pre">double</span></code>, can be defined as:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="kt">double</span><span class="p">,</span> <span class="kt">double</span> <span class="o">&gt;</span> <span class="n">keyDoubleValueDoubleMap</span><span class="p">;</span>
</pre></div>
</div>
<p>Each entry in the data map consists of a key and a value and is entered using:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">keyDoubleValueDoubleMap</span><span class="p">[</span> <span class="n">key</span> <span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
</pre></div>
</div>
<p>As an example, three entries are stored in this data map:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">keyDoubleValueDoubleMap</span><span class="p">[</span> <span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span> <span class="mf">3.0</span> <span class="p">)</span> <span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span> <span class="mf">2.0</span> <span class="p">);</span>
<span class="n">keyDoubleValueDoubleMap</span><span class="p">[</span> <span class="mf">4.5</span> <span class="p">]</span> <span class="o">=</span> <span class="mf">56.89</span><span class="p">;</span>
<span class="n">keyDoubleValueDoubleMap</span><span class="p">[</span> <span class="mf">12.65</span> <span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="mf">3.0</span><span class="p">;</span>
</pre></div>
</div>
<p>Now, this data-map can be stored to a file using:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">tudat</span><span class="o">::</span><span class="n">input_output</span><span class="o">::</span><span class="n">writeDataMapToTextFile</span><span class="p">(</span>
            <span class="n">keyDoubleValueDoubleMap</span><span class="p">,</span> <span class="s">&quot;keyDoubleValueDoubleMapDataFileWithDefaults&quot;</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="data-map-double-vector3d-to-text-file">
<h3>7.1.2.2. Data-map (double,Vector3d) to text file<a class="headerlink" href="#data-map-double-vector3d-to-text-file" title="Permalink to this headline">¶</a></h3>
<p>An example of a data map, where the type of the key is a <code class="docutils literal"><span class="pre">double</span></code>, and the type of the value is an <code class="docutils literal"><span class="pre">Eigen::Vector3d</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="kt">double</span><span class="p">,</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span> <span class="o">&gt;</span> <span class="n">keyDoubleValueVector3dMap</span><span class="p">;</span>
<span class="n">keyDoubleValueVector3dMap</span><span class="p">[</span> <span class="mf">1.1</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="p">(</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.54</span> <span class="p">);</span>
<span class="n">keyDoubleValueVector3dMap</span><span class="p">[</span> <span class="mf">6.5</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="p">(</span> <span class="o">-</span><span class="mf">4.56</span><span class="p">,</span> <span class="mf">1.23</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.98</span> <span class="p">);</span>
<span class="n">keyDoubleValueVector3dMap</span><span class="p">[</span> <span class="mf">10.9</span> <span class="p">]</span> <span class="o">=</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="p">(</span> <span class="o">-</span><span class="mf">46.13</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="mf">3.0</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span> <span class="mf">2.0</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
<p>This data-map can be stored to a file using:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">tudat</span><span class="o">::</span><span class="n">input_output</span><span class="o">::</span><span class="n">writeDataMapToTextFile</span><span class="p">(</span>
            <span class="n">keyDoubleValueVector3dMap</span><span class="p">,</span> <span class="s">&quot;keyDoubleValueVector3dMapDataFile&quot;</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="storing-propagation-history">
<h3>7.1.2.3. Storing propagation history<a class="headerlink" href="#storing-propagation-history" title="Permalink to this headline">¶</a></h3>
<p>A good example on how to store the propagation history in a data map can be found in the example applications in the Tudat Bundle. If you have downloaded the bundle, these examples can be found in:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tudatBundle</span><span class="o">/</span><span class="n">tudatApplications</span><span class="o">/</span><span class="n">satellitePropagatorExamples</span><span class="o">/</span><span class="n">SatellitePropagatorExamples</span>
</pre></div>
</div>
<p>The applications in both <code class="docutils literal"><span class="pre">asterixAndObelixPropagator.cpp</span></code> and <code class="docutils literal"><span class="pre">galileoConstellationSimulator.cpp</span></code> contain examples on how to store the propagation history to a data file.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="spice.html" class="btn btn-neutral float-right" title="7.2. External Libraries: SPICE" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="7. Other Libraries" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });
    });
</script>


</body>
</html>